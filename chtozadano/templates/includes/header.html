{% load static %}
<div class="navbar sticky-top navbar-expand-sm" style="background-color: #272727">
	<div class="container-fluid">
		<a class="navbar-brand" style="font-size: 30px;color: white;" href="/">
			<img src="{% static 'img/favicon.ico' %}" alt="Logo" height="50px" class="d-inline-block align-text-top">
			А что задано?
		</a>
		<button class="navbar-toggler navbar-dark" type="button" data-bs-toggle="collapse"
		        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
		        aria-label="Toggle navigation">
			<span class="navbar-toggler-icon navbar-dark" style="color: white;"></span>
		</button>
		<div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
			<ul class="navbar-nav" style="display: flex;">
				<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-success nav-button"
				                                                                      href="{% url "homework:schedule" %}"
				                                                                      aria-current="page">Расписание</a>
				</li>
				<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-primary nav-button"
				                                                                      href="{% url "homework:homework_page" %}"
				                                                                      aria-current="page">Домашка</a>
				</li>


				{% if request.user.is_authenticated %}
					{% if request.user.is_staff or request.user.is_superuser %}
						<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-info nav-button"
						                                                                      href="{% url "homework:add_homework_page" %}"
						                                                                      aria-current="page">Добавить
							дз</a></li>
						<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-info nav-button"
						                                                                      href="{% url "homework:add_mailing_page" %}"
						                                                                      aria-current="page">Добавить
							рассылку</a></li>
					{% else %}
						<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a
							class="btn btn-info disabled nav-button"
							href="{% url "homework:add_homework_page" %}"
							aria-current="page">Добавить
							дз</a></li>
					{% endif %}
					{% if request.user.is_superuser %}
						<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-danger nav-button"
						                                                                      href="/admin/"
						                                                                      aria-current="page">Админ
							панель</a></li>
						<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-danger nav-button"
						                                                                      href="{% url "users:show_become_admin" %}"
						                                                                      aria-current="page">Заявки
							на администратора</a></li>
					{% endif %}
					<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-warning nav-button"
					                                                                      href="{% url "users:account_page" %}"
					                                                                      aria-current="page">Аккаунт</a>
					</li>
				{% else %}
					<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-warning nav-button"
					                                                                      href="{% url "users:signin_page" %}"
					                                                                      aria-current="page">Войти</a>
					</li>
					<li class="nav-item" style="margin-left: 15px;margin-right: 15px;"><a class="btn btn-warning nav-button"
					                                                                      href="{% url "users:signup_page" %}"
					                                                                      aria-current="page">Зарегистрироваться</a>
					</li>
				{% endif %}

			</ul>
		</div>
	</div>
</div>
<div>
	{% if messages %}
		{% for message in messages %}
			{% if message.tags == "success" %}
				<div class="alert alert-success alert-dismissible fade" role="alert"
				     style="vertical-align: middle;">
					<p class="alert-text">{{ message }}</p>
				</div>
			{% elif message.tags == "error" %}
				<div class="alert alert-danger alert-dismissible fade" role="alert"
				     style="vertical-align: middle;">
					<p class="alert-text">{{ message }}</p>
				</div>
			{% endif %}
		{% endfor %}
	{% endif %}
	<script>
        document.addEventListener("DOMContentLoaded", function () {
            var alertElement = document.querySelector('.alert');
            if (alertElement) {
                setTimeout(function () {
                    alertElement.classList.add('show');
                }, 200);
            }
            setTimeout(function () {
                if (alertElement) {
                    alertElement.classList.remove('show');
                    alertElement.classList.add('fade-out');
                    setTimeout(function () {
                        alertElement.remove();
                    }, 500);
                }
            }, 4000);
        });
	</script>
</div>